# –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç—É: –°–∏—Å—Ç–µ–º–∞ –æ–±–ª—ñ–∫—É –¥–ª—è –∞–≥—Ä–æ–±—ñ–∑–Ω–µ—Å—É

## –û–≥–ª—è–¥ –ø—Ä–æ–µ–∫—Ç—É

**–ù–∞–∑–≤–∞**: ERP —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –æ–±–ª—ñ–∫—É –≤–∏—Ç—Ä–∞—Ç–Ω–∏—Ö –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤ —Ç–∞ –∑–∞–ø—á–∞—Å—Ç–∏–Ω
**–¢–∏–ø**: Web-–¥–æ–¥–∞—Ç–æ–∫ (FastAPI + React)
**–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö**: SQLite (–ª–æ–∫–∞–ª—å–Ω–æ) ‚Üí PostgreSQL (production)
**–†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è**: `C:\elev\`
**–í–µ—Ä—Å—ñ—è**: 0.7.0 (Beta)
**–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è**: 2026-02-24

### –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π
- **Backend**: Python 3.12.6, FastAPI 0.109, SQLAlchemy 2.0, Pydantic v2
- **Frontend**: React 18.2, Vite, Material-UI 5.14, Axios
- **–ë–î**: SQLite (–ª–æ–∫–∞–ª—å–Ω–æ), PostgreSQL/Neon (production)
- **–î–µ–ø–ª–æ–π**: Render (backend) + Vercel (frontend) + Neon.tech (DB)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞
- `backend/` - Python FastAPI —Å–µ—Ä–≤–µ—Ä
- `frontend/` - React –¥–æ–¥–∞—Ç–æ–∫ (Material-UI)
- `data/` - SQLite –±–∞–∑–∞ –¥–∞–Ω–∏—Ö

### –ü—ñ–¥—Ä–æ–∑–¥—ñ–ª–∏ (13 —à—Ç—É–∫)

| # | –ù–∞–∑–≤–∞ | –¢–∏–ø |
|---|---|---|
| 1 | –û—Å–Ω–æ–≤–Ω–∏–π —Å–∫–ª–∞–¥ | warehouse (—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π, –≤—Å—ñ –∑–∞–∫—É–ø—ñ–≤–ª—ñ) |
| 2 | –°–∫–ª–∞–¥ –≥–æ—Ç–æ–≤–æ—ó –ø—Ä–æ–¥—É–∫—Ü—ñ—ó | warehouse |
| 3 | –ú–ª–∏–Ω | production |
| 4 | –ï–ª–µ–≤–∞—Ç–æ—Ä | warehouse |
| 5 | –¶–µ—Ö –ø–∞–ª–∏–≤–Ω–æ—ó –≥—Ä–∞–Ω—É–ª–∏ | production |
| 6 | –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ü—ñ—è | administration |
| 7 | –í–∞–≥–æ–≤–∞ | service |
| 8 | –û—Ö–æ—Ä–æ–Ω–∞ | service |
| 9 | –õ–∞–±–æ—Ä–∞—Ç–æ—Ä—ñ—è | service |
| 10 | –ë—É—Ö–≥–∞–ª—Ç–µ—Ä—ñ—è | administration |
| 11 | –ü—Ä–∏–±–∏—Ä–∞–Ω–Ω—è | service |
| 12 | –û—Ñ—ñ—Å | administration |
| 13 | –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç | transport |

---

## –ü–æ–≤–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤ (—Å—Ç–∞–Ω–æ–º –Ω–∞ 2026-02-24)

### Backend (`C:\elev\backend\`)
```
app/
‚îú‚îÄ‚îÄ main.py                    ‚Äî FastAPI app, CORS, —Ä–æ—É—Ç–µ—Ä–∏ (12 —Ä–æ—É—Ç–µ—Ä—ñ–≤)
‚îú‚îÄ‚îÄ database.py                ‚Äî SQLAlchemy, auto-switch SQLite‚ÜîPostgreSQL
‚îú‚îÄ‚îÄ config.py                  ‚Äî Settings –∑ pydantic-settings, —á–∏—Ç–∞—î .env
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ user.py                ‚Äî User, Role
‚îÇ   ‚îú‚îÄ‚îÄ department.py          ‚Äî Department (13 —à—Ç.)
‚îÇ   ‚îú‚îÄ‚îÄ product.py             ‚Äî Product, ProductCategory, Unit
‚îÇ   ‚îú‚îÄ‚îÄ supplier.py            ‚Äî Supplier
‚îÇ   ‚îú‚îÄ‚îÄ purchase.py            ‚Äî Purchase, PurchaseItem
‚îÇ   ‚îú‚îÄ‚îÄ inventory.py           ‚Äî Inventory, InventoryTransaction
‚îÇ   ‚îú‚îÄ‚îÄ transfer.py            ‚Äî Transfer, TransferItem
‚îÇ   ‚îú‚îÄ‚îÄ writeoff.py            ‚Äî WriteOff, WriteOffItem
‚îÇ   ‚îú‚îÄ‚îÄ inventory_count.py     ‚Äî InventoryCount, InventoryCountItem
‚îÇ   ‚îú‚îÄ‚îÄ audit.py               ‚Äî AuditLog
‚îÇ   ‚îî‚îÄ‚îÄ transport.py           ‚Äî TransportUnit (–ù–û–í–ò–ô)
‚îú‚îÄ‚îÄ schemas/
‚îÇ   ‚îú‚îÄ‚îÄ auth.py, user.py, supplier.py, product.py
‚îÇ   ‚îú‚îÄ‚îÄ purchase.py, inventory.py, transfer.py
‚îÇ   ‚îú‚îÄ‚îÄ writeoff.py, report.py
‚îÇ   ‚îî‚îÄ‚îÄ (transport —Å—Ö–µ–º–∏ –≤–±—É–¥–æ–≤–∞–Ω—ñ –≤ api/v1/transport.py)
‚îú‚îÄ‚îÄ api/v1/
‚îÇ   ‚îú‚îÄ‚îÄ auth.py                ‚Äî login, logout, /me
‚îÇ   ‚îú‚îÄ‚îÄ users.py               ‚Äî CRUD –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
‚îÇ   ‚îú‚îÄ‚îÄ suppliers.py           ‚Äî CRUD –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫—ñ–≤
‚îÇ   ‚îú‚îÄ‚îÄ products.py            ‚Äî CRUD —Ç–æ–≤–∞—Ä—ñ–≤ + –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó + –æ–¥–∏–Ω–∏—Ü—ñ
‚îÇ   ‚îú‚îÄ‚îÄ departments.py         ‚Äî GET —Å–ø–∏—Å–æ–∫ –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª—ñ–≤
‚îÇ   ‚îú‚îÄ‚îÄ purchases.py           ‚Äî CRUD –∑–∞–∫—É–ø—ñ–≤–µ–ª—å + –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è
‚îÇ   ‚îú‚îÄ‚îÄ transfers.py           ‚Äî CRUD –ø–µ—Ä–µ–º—ñ—â–µ–Ω—å + –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è
‚îÇ   ‚îú‚îÄ‚îÄ writeoffs.py           ‚Äî CRUD —Å–ø–∏—Å–∞–Ω—å + –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è
‚îÇ   ‚îú‚îÄ‚îÄ inventory.py           ‚Äî –∑–∞–ª–∏—à–∫–∏ + low-stock
‚îÇ   ‚îú‚îÄ‚îÄ reports.py             ‚Äî 5 —Ç–∏–ø—ñ–≤ –∑–≤—ñ—Ç—ñ–≤ + dashboard
‚îÇ   ‚îú‚îÄ‚îÄ notifications.py       ‚Äî Telegram endpoints
‚îÇ   ‚îî‚îÄ‚îÄ transport.py           ‚Äî CRUD —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—É (–ù–û–í–ò–ô)
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ notifications.py       ‚Äî Telegram —á–µ—Ä–µ–∑ httpx
‚îî‚îÄ‚îÄ api/deps.py                ‚Äî 5 permission guards (–ø—Ä—è–º–µ SQL, –æ–±—Ö—ñ–¥ lazy loading)

scripts/
‚îú‚îÄ‚îÄ seed_data.py               ‚Äî –ø–æ—á–∞—Ç–∫–æ–≤—ñ –¥–∞–Ω—ñ (13 –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª—ñ–≤, —Ä–æ–ª—ñ, admin)
‚îú‚îÄ‚îÄ add_departments.py         ‚Äî –í–ò–ö–û–ù–ê–ù–û 2026-02-24, –¥–æ–¥–∞–Ω–æ 7 –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª—ñ–≤
‚îú‚îÄ‚îÄ add_accountant_role.py
‚îú‚îÄ‚îÄ cleanup_operator_role.py
‚îî‚îÄ‚îÄ seed_roles.py

render.yaml                    ‚Äî –∫–æ–Ω—Ñ—ñ–≥ –¥–ª—è Render.com
requirements.txt               ‚Äî –≤—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –∑ —Ñ—ñ–∫—Å–æ–≤–∞–Ω–∏–º–∏ –≤–µ—Ä—Å—ñ—è–º–∏
```

### Frontend (`C:\elev\frontend\`)
```
src/
‚îú‚îÄ‚îÄ App.jsx
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ AppRoutes.jsx          ‚Äî 11 –º–∞—Ä—à—Ä—É—Ç—ñ–≤
‚îÇ   ‚îî‚îÄ‚îÄ PrivateRoute.jsx
‚îú‚îÄ‚îÄ context/
‚îÇ   ‚îî‚îÄ‚îÄ AuthContext.jsx        ‚Äî 5 —Ö–µ–ª–ø–µ—Ä—ñ–≤ —Ä–æ–ª–µ–π
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ client.js              ‚Äî Axios, VITE_API_URL, JWT interceptor
‚îÇ   ‚îú‚îÄ‚îÄ auth.js                ‚Äî login/logout (fetch + form-urlencoded)
‚îÇ   ‚îú‚îÄ‚îÄ suppliers.js, products.js, purchases.js
‚îÇ   ‚îú‚îÄ‚îÄ transfers.js, writeoffs.js, inventory.js
‚îÇ   ‚îú‚îÄ‚îÄ departments.js, reports.js, users.js
‚îÇ   ‚îú‚îÄ‚îÄ notifications.js
‚îÇ   ‚îî‚îÄ‚îÄ transport.js           ‚Äî (–ù–û–í–ò–ô)
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îú‚îÄ‚îÄ auth/Login.jsx
‚îÇ   ‚îú‚îÄ‚îÄ dashboard/Dashboard.jsx
‚îÇ   ‚îú‚îÄ‚îÄ suppliers/SuppliersList.jsx
‚îÇ   ‚îú‚îÄ‚îÄ products/ProductsList.jsx
‚îÇ   ‚îú‚îÄ‚îÄ purchases/PurchasesList.jsx
‚îÇ   ‚îú‚îÄ‚îÄ transfers/TransfersList.jsx
‚îÇ   ‚îú‚îÄ‚îÄ writeoffs/WriteOffsList.jsx
‚îÇ   ‚îú‚îÄ‚îÄ inventory/InventoryPage.jsx
‚îÇ   ‚îú‚îÄ‚îÄ reports/ReportsPage.jsx
‚îÇ   ‚îú‚îÄ‚îÄ users/UsersList.jsx
‚îÇ   ‚îî‚îÄ‚îÄ transport/TransportPage.jsx  ‚Äî (–ù–û–í–ò–ô)
‚îî‚îÄ‚îÄ components/
    ‚îú‚îÄ‚îÄ layout/MainLayout.jsx
    ‚îú‚îÄ‚îÄ suppliers/SupplierDialog.jsx
    ‚îú‚îÄ‚îÄ products/ProductDialog.jsx
    ‚îú‚îÄ‚îÄ purchases/CreatePurchaseDialog.jsx
    ‚îú‚îÄ‚îÄ transfers/CreateTransferDialog.jsx
    ‚îú‚îÄ‚îÄ writeoffs/CreateWriteOffDialog.jsx
    ‚îú‚îÄ‚îÄ users/UserDialog.jsx
    ‚îî‚îÄ‚îÄ transport/TransportDialog.jsx  ‚Äî (–ù–û–í–ò–ô)

vercel.json                    ‚Äî SPA routing (rewrites –¥–æ /)
vite.config.js                 ‚Äî port 3000, proxy /api ‚Üí localhost:8000
```

---

## –Ü—Å—Ç–æ—Ä—ñ—è –∑–º—ñ–Ω (–¥–µ—Ç–∞–ª—å–Ω–æ)

### –°–µ—Å—ñ—è 1: –ü–æ—á–∞—Ç–∫–æ–≤–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–∞ –±–∞–∑–æ–≤–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

#### 1. –í–∏–¥–∞–ª–µ–Ω–Ω—è –ø–æ–ª—è Email
- ‚úÖ –í–∏–¥–∞–ª–µ–Ω–æ email –∑ –º–æ–¥–µ–ª—ñ User (backend)
- ‚úÖ –í–∏–¥–∞–ª–µ–Ω–æ email –∑ UserResponse —Å—Ö–µ–º–∏
- **–§–∞–π–ª–∏**: `backend/app/models/user.py`, `backend/app/schemas/auth.py`

#### 2. –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è seed_data.py
- ‚úÖ –î–æ–¥–∞–Ω–æ —ñ–º–ø–æ—Ä—Ç WriteOff —Ç–∞ WriteOffItem –≤ `models/__init__.py`

#### 3. UI –¥–ª—è –ü–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫—ñ–≤ —Ç–∞ –¢–æ–≤–∞—Ä—ñ–≤
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ `SuppliersList.jsx`, `SupplierDialog.jsx`, `ProductsList.jsx`, `ProductDialog.jsx`

#### 4. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ–π —Ç–∞ –æ–¥–∏–Ω–∏—Ü—å "–Ω–∞ –ª—å–æ—Ç—É"
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "+" –±—ñ–ª—è dropdown –∫–∞—Ç–µ–≥–æ—Ä—ñ–π —Ç–∞ –æ–¥–∏–Ω–∏—Ü—å –≤–∏–º—ñ—Ä—É
- ‚úÖ API endpoints: `POST /api/v1/products/categories`, `POST /api/v1/products/units`

#### 5. –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è API —à–ª—è—Ö—ñ–≤ (double prefix)
- ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ–¥–≤—ñ–π–Ω–∏–π `/api/v1/api/v1` –≤ purchases.js, transfers.js, inventory.js, reports.js

#### 6. –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è WriteOff —Å—Ö–µ–º
- ‚úÖ –ó–∞–º—ñ–Ω–µ–Ω–æ `dict` –Ω–∞ proper nested schemas –∑ `ConfigDict(from_attributes=True)`

#### 7. –í–∞–ª—ñ–¥–∞—Ü—ñ—è inventory –¥–ª—è —Å–ø–∏—Å–∞–Ω—å
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ —Ç–æ–≤–∞—Ä—É —Ç–∞ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –ø–µ—Ä–µ–¥ —Å–ø–∏—Å–∞–Ω–Ω—è–º

#### 8. –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –≤ Inventory page
- ‚úÖ –§—ñ–ª—å—Ç—Ä –ø–æ –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª—É —Ç–∞ —Ç–æ–≤–∞—Ä—É

#### 9. –î–µ—Ç–∞–ª—ñ –Ω–∏–∑—å–∫–∏—Ö –∑–∞–ª–∏—à–∫—ñ–≤ –≤ Dashboard
- ‚úÖ –¢–∞–±–ª–∏—Ü—è "–¢–æ–≤–∞—Ä–∏ –∑ –Ω–∏–∑—å–∫–∏–º–∏ –∑–∞–ª–∏—à–∫–∞–º–∏"

#### 10. –§—ñ–ª—å—Ç—Ä–∏ –≤ Reports page
- ‚úÖ –†—ñ–∑–Ω—ñ —Ñ—ñ–ª—å—Ç—Ä–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö endpoints

---

### –°–µ—Å—ñ—è 2: –í–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ–¥—ñ–≤ —Ç–∞ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö –∑–≤—ñ—Ç—ñ–≤

#### 11. –í–∏–¥–∞–ª–µ–Ω–Ω—è –ø–æ–ª—è "–ö–æ–¥" –∑ UI
- ‚úÖ –í–∏–¥–∞–ª–µ–Ω–æ –∫–æ–ª–æ–Ω–∫—É "–ö–æ–¥" –∑ —Ç–∞–±–ª–∏—Ü—å —Ç–∞ —Ñ–æ—Ä–º –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∞ —ñ —Ç–æ–≤–∞—Ä—É

#### 12. –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –∫–æ–¥—ñ–≤ –≤ Backend
- ‚úÖ `generate_supplier_code()` ‚Üí SUP-0001, SUP-0002, ...
- ‚úÖ `generate_product_code()` ‚Üí PROD-0001, PROD-0002, ...

#### 13. –ù–æ–≤–∏–π –∑–≤—ñ—Ç: –ü–æ –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª–∞—Ö
- ‚úÖ Endpoint `GET /api/v1/reports/departments`
- ‚úÖ –ü–æ—Ç–æ—á–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å –∑–∞–ª–∏—à–∫—ñ–≤, –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è, —Å–ø–∏—Å–∞–Ω–Ω—è

#### 14. –ù–æ–≤–∏–π –∑–≤—ñ—Ç: –ü–æ –º–∞—Ç–µ—Ä—ñ–∞–ª–∞—Ö
- ‚úÖ Endpoint `GET /api/v1/reports/materials`
- ‚úÖ –ó–∞–∫—É–ø–ª–µ–Ω–æ, —Å–ø–∏—Å–∞–Ω–æ, –∑–∞–ª–∏—à–æ–∫, —Ä–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è –ø–æ –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª–∞—Ö

---

### –°–µ—Å—ñ—è 3: –§—ñ–ª—å—Ç—Ä–∏ –∑–≤—ñ—Ç—ñ–≤ —Ç–∞ –ï–∫—Å–ø–æ—Ä—Ç

#### 15. –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è —Ñ—ñ–ª—å—Ç—Ä—ñ–≤ –¥–ª—è –≤—Å—ñ—Ö –∑–≤—ñ—Ç—ñ–≤
- ‚úÖ –§—ñ–ª—å—Ç—Ä–∏ per-tab (–∑–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥ –∞–∫—Ç–∏–≤–Ω–æ—ó –≤–∫–ª–∞–¥–∫–∏)

#### 16. –ï–∫—Å–ø–æ—Ä—Ç –∑–≤—ñ—Ç—ñ–≤
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ï–∫—Å–ø–æ—Ä—Ç Excel" ‚Äî –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î `.xlsx` (SheetJS)
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–î—Ä—É–∫ / PDF" ‚Äî –ø—ñ–¥—Ç—Ä–∏–º—É—î –∫–∏—Ä–∏–ª–∏—Ü—é

---

### –°–µ—Å—ñ—è 4: Telegram —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è

#### 17. Telegram Bot —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
- ‚úÖ –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–∏ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—ñ —Å–ø–∏—Å–∞–Ω–Ω—è
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∏–∑—å–∫–∏—Ö –∑–∞–ª–∏—à–∫—ñ–≤ –ø—ñ—Å–ª—è —Å–ø–∏—Å–∞–Ω–Ω—è
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑–∞–ª–∏—à–∫–∏ ‚Üí Telegram" –Ω–∞ Dashboard
- ‚úÖ `POST /api/v1/notifications/test`, `GET /api/v1/notifications/low-stock`
- **–§–∞–π–ª**: `backend/app/services/notifications.py`

#### 18. PostgreSQL ‚Äî –≥–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ –º—ñ–≥—Ä–∞—Ü—ñ—ó
- ‚úÖ `psycopg2-binary` –≤ `requirements.txt`
- ‚úÖ `database.py` –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–º–∏–∫–∞—î SQLite ‚Üî PostgreSQL –ø–æ `DATABASE_URL`

---

### –°–µ—Å—ñ—è 5: –†–æ–ª—å–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø—É (RBAC)

#### 19. –†–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü—ñ—è —Ä–æ–ª–µ–π

| –†–æ–ª—å | –ó–∞–∫—É–ø—ñ–≤–ª—ñ | –ü–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è | –°–ø–∏—Å–∞–Ω–Ω—è | –ó–≤—ñ—Ç–∏ | –ó–∞–ª–∏—à–∫–∏ | –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è |
|---|---|---|---|---|---|---|
| `admin` | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | –í—Å—ñ | ‚úÖ |
| `manager` | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | –í—Å—ñ | ‚ùå |
| `warehouse_manager` | ‚ùå | ‚úÖ | ‚úÖ | ‚úÖ | –í—Å—ñ | ‚ùå |
| `accountant` | ‚ùå | ‚ùå | ‚ùå | ‚úÖ | ‚úÖ | ‚ùå |
| `department_head` | ‚ùå | ‚ùå | ‚úÖ (—Å–≤—ñ–π) | ‚ùå | –¢—ñ–ª—å–∫–∏ —Å–≤—ñ–π | ‚ùå |

#### 20-22. Backend + Frontend RBAC –∑–º—ñ–Ω–∏
- ‚úÖ `deps.py`: 5 permission guards –∑ –ø—Ä—è–º–∏–º SQL
- ‚úÖ –ú–µ–Ω—é —Ñ—ñ–ª—å—Ç—Ä—É—î—Ç—å—Å—è –ø–æ —Ä–æ–ª—è—Ö
- ‚úÖ `department_head` ‚Äî –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

---

### –°–µ—Å—ñ—è 6: –†–æ–ª—ñ (accountant), –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–µ–∫–µ–Ω–¥—É

#### 23. kill_backend.ps1
- ‚úÖ –°–∫—Ä–∏–ø—Ç –≤–±–∏–≤–∞—î –≤—Å—ñ python/uvicorn –ø—Ä–æ—Ü–µ—Å–∏

#### 24. –†–æ–ª—ñ ‚Äî –≤–∏–¥–∞–ª–µ–Ω–æ `operator`, –¥–æ–¥–∞–Ω–æ `accountant`
- ‚úÖ `operator` (id=3) –≤–∏–¥–∞–ª–µ–Ω–æ —Å–∫—Ä–∏–ø—Ç–æ–º
- ‚úÖ `accountant` ‚Äî –¥–æ—Å—Ç—É–ø —Ç—ñ–ª—å–∫–∏ –¥–æ –ó–≤—ñ—Ç—ñ–≤ —Ç–∞ –ó–∞–ª–∏—à–∫—ñ–≤

#### 25-26. RBAC –¥–ª—è accountant
- ‚úÖ `get_current_report_reader` guard
- ‚úÖ –ú–µ–Ω—é: Dashboard, –ó–∞–ª–∏—à–∫–∏, –ó–≤—ñ—Ç–∏ –¥–ª—è accountant

---

### –°–µ—Å—ñ—è 7: –ê—É–¥–∏—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ (2026-02-23)

#### –í–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ –±–∞–≥–∏

| # | –§–∞–π–ª | –ü—Ä–æ–±–ª–µ–º–∞ | –ù–∞—Å–ª—ñ–¥–æ–∫ |
|---|---|---|---|
| 1 | `schemas/report.py` | `ProductCostRow` –≤–∏–∑–Ω–∞—á–µ–Ω–∏–π –ø—ñ—Å–ª—è `DepartmentCostData` | NameError |
| 2 | `schemas/auth.py` | `department_id: int` –∑–∞–º—ñ—Å—Ç—å `Optional[int]` | ValidationError –ø—Ä–∏ –ª–æ–≥—ñ–Ω—ñ |
| 3 | `api/v1/users.py` | –¢–µ —Å–∞–º–µ –≤ `UserResponse` | GET /users ‚Üí 500 |
| 4 | `api/auth.js` | Hardcoded `http://localhost:8000` | –ó–ª–∞–º–∞—î—Ç—å—Å—è –≤ –ø—Ä–æ–¥–∞–∫—à–Ω—ñ |
| 5 | `api/auth.js` | `user_data` –Ω–µ –æ—á–∏—â–∞–ª–æ—Å—å –ø—Ä–∏ logout | Stale –¥–∞–Ω—ñ –≤ localStorage |
| 6 | `writeoffs/WriteOffsList.jsx` | React `key` –Ω–∞ Fragment | React warning |

---

### –°–µ—Å—ñ—è 8: –ó–≤—ñ—Ç –ø–æ –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª–∞—Ö + –Ω–æ–≤—ñ –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª–∏ + –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç (2026-02-24)

#### 27. –ó–≤—ñ—Ç –ø–æ –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª–∞—Ö ‚Äî –∫–æ–ª–æ–Ω–∫–∞ "–ü–µ—Ä–µ–º—ñ—â–µ–Ω–æ"

**–ü—Ä–æ–±–ª–µ–º–∞**: –£ –≤–∫–ª–∞–¥—Ü—ñ "–ü—ñ–¥—Ä–æ–∑–¥—ñ–ª–∏" –Ω–µ –±—É–ª–æ –≤–∏–¥–Ω–æ —Å–∫—ñ–ª—å–∫–∏ —Ç–æ–≤–∞—Ä—É –ø–µ—Ä–µ–º—ñ—â–µ–Ω–æ –∑ –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª—É (—Ç—ñ–ª—å–∫–∏ –æ—Ç—Ä–∏–º–∞–Ω–æ —ñ —Å–ø–∏—Å–∞–Ω–æ).

**–†—ñ—à–µ–Ω–Ω—è**: –î–æ–¥–∞–Ω–æ –ø–æ–≤–Ω–∏–π –æ–±–ª—ñ–∫ –≤–∏—Ö—ñ–¥–Ω–∏—Ö –ø–µ—Ä–µ–º—ñ—â–µ–Ω—å (transfer_out) –ø–æ –∫–æ–∂–Ω–æ–º—É —Ç–æ–≤–∞—Ä—É.

- ‚úÖ `backend/app/schemas/report.py` ‚Üí `DepartmentMaterialRow`: –Ω–æ–≤—ñ –ø–æ–ª—è `transferred_quantity`, `transferred_value`
- ‚úÖ `backend/app/schemas/report.py` ‚Üí `DepartmentReportData`: –Ω–æ–≤–µ –ø–æ–ª–µ `total_transferred_value`
- ‚úÖ `backend/app/api/v1/reports.py` ‚Üí `get_department_report`: –¥–æ–¥–∞–Ω–æ query `Transfer.from_department_id == dept.id` per product
- ‚úÖ `frontend/src/pages/reports/ReportsPage.jsx`:
  - Summary bar: –¥–æ–¥–∞–Ω–æ "–ü–µ—Ä–µ–º—ñ—â–µ–Ω–æ: X ‚Ç¥"
  - –¢–∞–±–ª–∏—Ü—è: 2 –Ω–æ–≤—ñ –∫–æ–ª–æ–Ω–∫–∏ "–ü–µ—Ä–µ–º—ñ—â–µ–Ω–æ" / "–°—É–º–∞ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–æ"
  - Excel export (case 3): —Ä–æ–∑—à–∏—Ä–µ–Ω—ñ –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Ç–∞ —Ä—è–¥–∫–∏

**–¢–∞–±–ª–∏—Ü—è –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤ —Ç–µ–ø–µ—Ä:** –ú–∞—Ç–µ—Ä—ñ–∞–ª | –ö–∞—Ç–µ–≥–æ—Ä—ñ—è | –û—Ç—Ä–∏–º–∞–Ω–æ | –°—É–º–∞ –æ—Ç—Ä–∏–º–∞–Ω–æ | –°–ø–∏—Å–∞–Ω–æ | –°—É–º–∞ —Å–ø–∏—Å–∞–Ω–æ | **–ü–µ—Ä–µ–º—ñ—â–µ–Ω–æ** | **–°—É–º–∞ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–æ** | –ó–∞–ª–∏—à–æ–∫ | –í–∞—Ä—Ç—ñ—Å—Ç—å –∑–∞–ª–∏—à–∫—É

#### 28. –ù–æ–≤—ñ –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª–∏ (7 —à—Ç—É–∫)

**–î–æ–¥–∞–Ω–æ** —Å–∫—Ä–∏–ø—Ç–æ–º `scripts/add_departments.py` (–≤–∏–∫–æ–Ω–∞–Ω–æ 2026-02-24, –≤–∂–µ –≤ –ë–î):
- –í–∞–≥–æ–≤–∞ (service), –û—Ö–æ—Ä–æ–Ω–∞ (service), –õ–∞–±–æ—Ä–∞—Ç–æ—Ä—ñ—è (service)
- –ë—É—Ö–≥–∞–ª—Ç–µ—Ä—ñ—è (administration), –ü—Ä–∏–±–∏—Ä–∞–Ω–Ω—è (service), –û—Ñ—ñ—Å (administration)
- –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç (transport)

- ‚úÖ `backend/scripts/seed_data.py` ‚Äî –æ–Ω–æ–≤–ª–µ–Ω–æ –¥–ª—è –Ω–æ–≤–∏—Ö —ñ–Ω—Å—Ç–∞–ª—è—Ü—ñ–π (13 –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª—ñ–≤)
- ‚úÖ `backend/scripts/add_departments.py` ‚Äî —Å–∫—Ä–∏–ø—Ç –≤–∏–∫–æ–Ω–∞–Ω–æ, –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª–∏ –≤ –ë–î

#### 29. –ú–æ–¥—É–ª—å –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç (–ø–æ–≤–Ω–∏–π CRUD)

**–ù–æ–≤–∏–π –º–æ–¥—É–ª—å** –¥–ª—è –æ–±–ª—ñ–∫—É —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∏—Ö –æ–¥–∏–Ω–∏—Ü—å –ø—ñ–¥–ø—Ä–∏—î–º—Å—Ç–≤–∞.

**Backend:**
- ‚úÖ `backend/app/models/transport.py` ‚Äî –º–æ–¥–µ–ª—å `TransportUnit` (id, name, unit_type, plate_number, notes, is_active)
- ‚úÖ `backend/app/api/v1/transport.py` ‚Äî CRUD endpoints:
  - `GET /api/v1/transport/` ‚Äî —Å–ø–∏—Å–æ–∫
  - `GET /api/v1/transport/types` ‚Äî —Ç–∏–ø–∏ (–∞–≤—Ç–æ, —Ç—Ä–∞–∫—Ç–æ—Ä, —Ç—è–≥–∞—á, —Å–ø–µ—Ü—Ç–µ—Ö–Ω—ñ–∫–∞, –±–æ—á–∫–∞, –ø—Ä–∏—á—ñ–ø, —ñ–Ω—à–µ)
  - `POST /api/v1/transport/` ‚Äî —Å—Ç–≤–æ—Ä–∏—Ç–∏
  - `PUT /api/v1/transport/{id}` ‚Äî –æ–Ω–æ–≤–∏—Ç–∏
  - `DELETE /api/v1/transport/{id}` ‚Äî –≤–∏–¥–∞–ª–∏—Ç–∏
- ‚úÖ `backend/app/main.py` ‚Äî —Ä–æ—É—Ç–µ—Ä –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–æ
- ‚úÖ `backend/app/models/__init__.py` ‚Äî TransportUnit –¥–æ–¥–∞–Ω–æ
- ‚úÖ –¢–∞–±–ª–∏—Ü—è `transport_units` —Å—Ç–≤–æ—Ä–µ–Ω–∞ –≤ SQLite (auto-create –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ)

**Frontend:**
- ‚úÖ `frontend/src/api/transport.js` ‚Äî API –∫–ª—ñ—î–Ω—Ç (list, getTypes, create, update, delete)
- ‚úÖ `frontend/src/components/transport/TransportDialog.jsx` ‚Äî —Ñ–æ—Ä–º–∞ –¥–æ–¥–∞–≤–∞–Ω–Ω—è/—Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è
  - –ü–æ–ª–µ "–¢–∏–ø": Autocomplete –∑ freeSolo (—î –≥–æ—Ç–æ–≤—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ + –±—É–¥—å-—è–∫–∏–π –≤–ª–∞—Å–Ω–∏–π —Ç–∏–ø)
- ‚úÖ `frontend/src/pages/transport/TransportPage.jsx` ‚Äî —Å—Ç–æ—Ä—ñ–Ω–∫–∞:
  - Summary –∫–∞—Ä—Ç–∫–∏ (–≤—Å—å–æ–≥–æ, –ø–æ —Ç–∏–ø–∞—Ö)
  - –¢–∞–±–ª–∏—Ü—è –∑ –ø–æ—à—É–∫–æ–º (–ø–æ –Ω–∞–∑–≤—ñ, —Ç–∏–ø—É, –Ω–æ–º–µ—Ä—É)
  - –ö–Ω–æ–ø–∫–∏ –†–µ–¥–∞–≥—É–≤–∞—Ç–∏ / –í–∏–¥–∞–ª–∏—Ç–∏ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∑–∞–ø–∏—Å—É
  - –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è
- ‚úÖ `frontend/src/routes/AppRoutes.jsx` ‚Äî –º–∞—Ä—à—Ä—É—Ç `/transport`
- ‚úÖ `frontend/src/components/layout/MainLayout.jsx` ‚Äî –ø—É–Ω–∫—Ç "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç" –≤ –º–µ–Ω—é –î–æ–≤—ñ–¥–Ω–∏–∫–∏

---

## –ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω —Å–∏—Å—Ç–µ–º–∏ (2026-02-24)

### ‚úÖ –ì–æ—Ç–æ–≤–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

#### –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è
- –õ–æ–≥—ñ–Ω/–ª–æ–≥–∞—É—Ç (JWT + refresh token)
- 5 —Ä–æ–ª–µ–π: admin, manager, warehouse_manager, accountant, department_head
- RBAC –Ω–∞ –≤—Å—ñ—Ö API endpoints

#### –î–æ–≤—ñ–¥–Ω–∏–∫–∏
- ‚úÖ –ü–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∏ (CRUD, –∞–≤—Ç–æ–∫–æ–¥ SUP-XXXX)
- ‚úÖ –¢–æ–≤–∞—Ä–∏/–ú–∞—Ç–µ—Ä—ñ–∞–ª–∏ (CRUD, –∞–≤—Ç–æ–∫–æ–¥ PROD-XXXX, –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ç–∞ –æ–¥–∏–Ω–∏—Ü—ñ –Ω–∞ –ª—å–æ—Ç—É)
- ‚úÖ –ü—ñ–¥—Ä–æ–∑–¥—ñ–ª–∏ (13 —à—Ç—É–∫)
- ‚úÖ –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç (CRUD, –¥–æ–≤—ñ–ª—å–Ω—ñ —Ç–∏–ø–∏)

#### –°–∫–ª–∞–¥—Å—å–∫–∏–π –æ–±–ª—ñ–∫
- ‚úÖ –ó–∞–∫—É–ø—ñ–≤–ª—ñ (draft ‚Üí –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è ‚Üí –∞–≤—Ç–æ–æ–ø—Ä–∏–±—É—Ç–∫—É–≤–∞–Ω–Ω—è –Ω–∞ –û—Å–Ω–æ–≤–Ω–∏–π —Å–∫–ª–∞–¥)
- ‚úÖ –ü–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è –º—ñ–∂ –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª–∞–º–∏
- ‚úÖ –°–ø–∏—Å–∞–Ω–Ω—è (–∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é, –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∞–¥–º—ñ–Ω–æ–º)
- ‚úÖ –ó–∞–ª–∏—à–∫–∏ (–∑ —Ñ—ñ–ª—å—Ç—Ä–∞–º–∏ –ø–æ –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª—É —Ç–∞ —Ç–æ–≤–∞—Ä—É)

#### –ó–≤—ñ—Ç–∏ (5 —Ç–∏–ø—ñ–≤)
1. **–ó–∞–∫—É–ø—ñ–≤–ª—ñ** ‚Äî —Ñ—ñ–ª—å—Ç—Ä–∏: –¥–∞—Ç–∞, –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫, –∫–∞—Ç–µ–≥–æ—Ä—ñ—è, —Ç–æ–≤–∞—Ä
2. **–ê–Ω–∞–ª—ñ–∑ –≤–∏—Ç—Ä–∞—Ç** ‚Äî –ø–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è—Ö —Ç–∞ –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª–∞—Ö; —Ñ—ñ–ª—å—Ç—Ä–∏: –¥–∞—Ç–∞, –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª, –∫–∞—Ç–µ–≥–æ—Ä—ñ—è
3. **–ü–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∏** ‚Äî –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞ –ø–æ –∫–æ–∂–Ω–æ–º—É; —Ñ—ñ–ª—å—Ç—Ä–∏: –¥–∞—Ç–∞, –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫
4. **–ü—ñ–¥—Ä–æ–∑–¥—ñ–ª–∏** ‚Äî –æ—Ç—Ä–∏–º–∞–Ω–æ, —Å–ø–∏—Å–∞–Ω–æ, **–ø–µ—Ä–µ–º—ñ—â–µ–Ω–æ**, –∑–∞–ª–∏—à–∫–∏; —Ñ—ñ–ª—å—Ç—Ä–∏: –¥–∞—Ç–∞, –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª
5. **–ú–∞—Ç–µ—Ä—ñ–∞–ª–∏** ‚Äî –∑–∞–∫—É–ø–ª–µ–Ω–æ, —Å–ø–∏—Å–∞–Ω–æ, –∑–∞–ª–∏—à–æ–∫, —Ä–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è; —Ñ—ñ–ª—å—Ç—Ä–∏: –¥–∞—Ç–∞, —Ç–∏–ø, –∫–∞—Ç–µ–≥–æ—Ä—ñ—è, –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª

- ‚úÖ –ï–∫—Å–ø–æ—Ä—Ç Excel (SheetJS, xlsx)
- ‚úÖ –î—Ä—É–∫/PDF (–ø—ñ–¥—Ç—Ä–∏–º–∫–∞ –∫–∏—Ä–∏–ª–∏—Ü—ñ, print dialog)

#### Dashboard
- KPI: –≤–∞—Ä—Ç—ñ—Å—Ç—å –∑–∞–ª–∏—à–∫—ñ–≤, –∑–∞–∫—É–ø—ñ–≤–ª—ñ –∑–∞ –º—ñ—Å—è—Ü—å, –Ω–∏–∑—å–∫—ñ –∑–∞–ª–∏—à–∫–∏, –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª–∏
- –ì—Ä–∞—Ñ—ñ–∫ –∑–∞–∫—É–ø—ñ–≤–µ–ª—å –∑–∞ 6 –º—ñ—Å—è—Ü—ñ–≤
- –¢–û–ü-5 –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫—ñ–≤, –¢–û–ü-5 —Ç–æ–≤–∞—Ä—ñ–≤
- –¢–∞–±–ª–∏—Ü—è —Ç–æ–≤–∞—Ä—ñ–≤ –∑ –Ω–∏–∑—å–∫–∏–º–∏ –∑–∞–ª–∏—à–∫–∞–º–∏
- –û—Å—Ç–∞–Ω–Ω—ñ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó
- –ö–Ω–æ–ø–∫–∞ "–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑–∞–ª–∏—à–∫–∏ ‚Üí Telegram"

#### Telegram —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—ñ —Å–ø–∏—Å–∞–Ω–Ω—è
- ‚úÖ –†—É—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∏–∑—å–∫–∏—Ö –∑–∞–ª–∏—à–∫—ñ–≤ –∑ Dashboard

#### Keep-alive
- ‚úÖ Frontend –ø—ñ–Ω–≥—É—î `/health` –∫–æ–∂–Ω—ñ 10 —Ö–≤–∏–ª–∏–Ω
- –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –¥–æ–¥–∞—Ç–∫–æ–≤–æ: UptimeRobot (5 —Ö–≤, –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ)

### üöÄ –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º–∏

```bash
# Backend
cd C:\elev\backend
# –í–±–∏—Ç–∏ —Å—Ç–∞—Ä—ñ –ø—Ä–æ—Ü–µ—Å–∏: .\kill_backend.ps1
venv\Scripts\python.exe -m uvicorn app.main:app --reload --port 8000

# Frontend (–Ω–æ–≤–∏–π —Ç–µ—Ä–º—ñ–Ω–∞–ª)
cd C:\elev\frontend
npm start

# –í—ñ–¥–∫—Ä–∏—Ç–∏: http://localhost:3000
# –õ–æ–≥—ñ–Ω: admin / admin
```

---

## –ê–Ω–∞–ª—ñ–∑ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ

### 1. –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∞ –≥–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å ‚Äî 88%

| –û–±–ª–∞—Å—Ç—å | –°—Ç–∞—Ç—É—Å | –ö–æ–º–µ–Ω—Ç–∞—Ä |
|---|---|---|
| –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è + JWT | ‚úÖ –ì–æ—Ç–æ–≤–æ | Login, logout, role check |
| RBAC (5 —Ä–æ–ª–µ–π) | ‚úÖ –ì–æ—Ç–æ–≤–æ | –í—Å—ñ endpoints –∑–∞—Ö–∏—â–µ–Ω—ñ |
| –ü–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∏ CRUD | ‚úÖ –ì–æ—Ç–æ–≤–æ | –ó –∞–≤—Ç–æ–∫–æ–¥–æ–º |
| –¢–æ–≤–∞—Ä–∏ CRUD | ‚úÖ –ì–æ—Ç–æ–≤–æ | –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó + –æ–¥–∏–Ω–∏—Ü—ñ –Ω–∞ –ª—å–æ—Ç—É |
| –ó–∞–∫—É–ø—ñ–≤–ª—ñ | ‚úÖ –ì–æ—Ç–æ–≤–æ | Draft ‚Üí confirm ‚Üí inventory |
| –ü–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è | ‚úÖ –ì–æ—Ç–æ–≤–æ | –ó –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è–º |
| –°–ø–∏—Å–∞–Ω–Ω—è | ‚úÖ –ì–æ—Ç–æ–≤–æ | –í–∞–ª—ñ–¥–∞—Ü—ñ—è + Telegram |
| –ó–∞–ª–∏—à–∫–∏ | ‚úÖ –ì–æ—Ç–æ–≤–æ | –§—ñ–ª—å—Ç—Ä–∏ –ø–æ –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª—É/—Ç–æ–≤–∞—Ä—É |
| –ó–≤—ñ—Ç–∏ (5 —Ç–∏–ø—ñ–≤) | ‚úÖ –ì–æ—Ç–æ–≤–æ | Excel + PDF |
| Dashboard | ‚úÖ –ì–æ—Ç–æ–≤–æ | KPI + –≥—Ä–∞—Ñ—ñ–∫–∏ |
| Telegram | ‚úÖ –ì–æ—Ç–æ–≤–æ | Notifications |
| –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç | ‚úÖ –ì–æ—Ç–æ–≤–æ | –ü–æ–≤–Ω–∏–π CRUD |
| –ü—ñ–¥—Ä–æ–∑–¥—ñ–ª–∏ (13) | ‚úÖ –ì–æ—Ç–æ–≤–æ | –í –ë–î |
| –¢–µ—Å—Ç–∏ (unit/integration) | ‚ùå –í—ñ–¥—Å—É—Ç–Ω—ñ | –ü–æ—Ç—Ä—ñ–±–Ω—ñ –ø–µ—Ä–µ–¥ production |
| –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è —Ç–∞–±–ª–∏—Ü—å | ‚ùå –í—ñ–¥—Å—É—Ç–Ω—è | –ö—Ä–∏—Ç–∏—á–Ω–æ –ø—Ä–∏ >500 –∑–∞–ø–∏—Å—ñ–≤ |
| Refresh token endpoint | ‚ö†Ô∏è –ß–∞—Å—Ç–∫–æ–≤–æ | –Ñ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è, –Ω–µ–º–∞—î `/auth/refresh` |
| –Ü–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü—ñ—è (–∞–∫—Ç–∏) | ‚ùå –í—ñ–¥—Å—É—Ç–Ω—è | –ú–æ–¥–µ–ª—å —î, UI –Ω–µ–º–∞—î |

---

### 2. –ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ GitHub ‚Äî 65%

#### ‚úÖ –©–æ –≤–∂–µ –¥–æ–±—Ä–µ
- `client.js` —á–∏—Ç–∞—î `VITE_API_URL` –∑ env (–Ω–µ —Ö–∞—Ä–¥–∫–æ–¥)
- `auth.js` –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ (–Ω–µ–º–∞—î —Ö–∞—Ä–¥–∫–æ–¥ localhost)
- `database.py` ‚Äî –∞–≤—Ç–æ-–ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è SQLite‚ÜîPostgreSQL
- `vercel.json` ‚Äî SPA routing –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π
- `render.yaml` ‚Äî –∫–æ–Ω—Ñ—ñ–≥ –¥–ª—è Render —î

#### ‚õî –ö—Ä–∏—Ç–∏—á–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ –ø–µ—Ä–µ–¥ `git init`

**1. –§–∞–π–ª `.env` –∑ —Ä–µ–∞–ª—å–Ω–∏–º–∏ Telegram credentials**

–§–∞–π–ª `backend/.env` –º—ñ—Å—Ç–∏—Ç—å:
```
TELEGRAM_BOT_TOKEN=8589025259:AAH65NCC1jbysd34EvpsBHvAbAjJJgEYL6I
TELEGRAM_CHAT_ID=927014914
```
–Ø–∫—â–æ –ø–æ—Ç—Ä–∞–ø–∏—Ç—å –Ω–∞ GitHub ‚Äî credentials –∫–æ–º–ø—Ä–æ–º–µ—Ç–æ–≤–∞–Ω—ñ. –ü–æ—Ç—Ä—ñ–±–Ω–æ:
- –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—å —â–æ `.env` —î –≤ `.gitignore` (–≤–∂–µ —î)
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏: `git check-ignore -v backend/.env`
- –ü—ñ—Å–ª—è `git init` ‚Äî –ù–ï —Ä–æ–±–∏—Ç–∏ `git add .env`

**2. SQLite –±–∞–∑–∞ –¥–∞–Ω–∏—Ö**

–§–∞–π–ª `data/agro_erp.db` (~–∫—ñ–ª—å–∫–∞ –ú–ë, —Ä–µ–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ) –Ω–µ –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ –≤ —Ä–µ–ø–æ:
- –î–æ–¥–∞—Ç–∏ `data/*.db` –¥–æ –∫–æ—Ä–µ–Ω–µ–≤–æ–≥–æ `.gitignore`

**3. –ü–∞–ø–∫–∏ —è–∫—ñ –Ω–µ –ø–æ–≤–∏–Ω–Ω—ñ –±—É—Ç–∏ –≤ —Ä–µ–ø–æ**
- `backend/venv/` ‚Äî –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ Python
- `frontend/node_modules/` ‚Äî –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ npm
- `backend/__pycache__/`, `**/*.pyc`
- `frontend/dist/` ‚Äî build –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∏

#### ‚ö†Ô∏è –©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ / –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏

**–ö–æ—Ä–µ–Ω–µ–≤–∏–π `.gitignore`** ‚Äî –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ —î —Ç–∞–∫–∏–π —Ñ–∞–π–ª —ñ –≤—ñ–Ω –ø–æ–∫—Ä–∏–≤–∞—î:
```gitignore
# Python
backend/venv/
backend/__pycache__/
backend/**/__pycache__/
backend/**/*.pyc
backend/.env

# Database
data/*.db
data/*.db-shm
data/*.db-wal

# Node
frontend/node_modules/
frontend/dist/
frontend/.env.local

# OS
.DS_Store
Thumbs.db
```

#### –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è GitHub

- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏/—Å—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ—Ä–µ–Ω–µ–≤–∏–π `.gitignore`
- [ ] –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—å —â–æ `backend/.env` –≤–∏–∫–ª—é—á–µ–Ω–∏–π
- [ ] –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—å —â–æ `data/agro_erp.db` –≤–∏–∫–ª—é—á–µ–Ω–∏–π
- [ ] –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—å —â–æ `backend/venv/` –≤–∏–∫–ª—é—á–µ–Ω–∏–π
- [ ] `git init` ‚Üí `git status` ‚Üí –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –Ω–µ–º–∞—î –∑–∞–π–≤–∏—Ö —Ñ–∞–π–ª—ñ–≤
- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä–∏–≤–∞—Ç–Ω–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –Ω–∞ GitHub
- [ ] `git add .` ‚Üí `git status` (–ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ñ—ñ–Ω–∞–ª—å–Ω–∏–π —Å–ø–∏—Å–æ–∫)
- [ ] `git commit -m "Initial commit: Agro ERP v0.7.0"`
- [ ] `git push`

---

### 3. –ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ –¥–µ–ø–ª–æ—é ‚Äî 60%

#### ‚úÖ –©–æ –≤–∂–µ –≥–æ—Ç–æ–≤–æ (–∑–µ–ª–µ–Ω–∏–º)

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å |
|---|---|
| `frontend/vercel.json` | ‚úÖ SPA routing –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π |
| `backend/render.yaml` | ‚úÖ –ö–æ–Ω—Ñ—ñ–≥ —î, env vars –ø–µ—Ä–µ–ª—ñ—á–µ–Ω—ñ |
| `frontend/src/api/client.js` | ‚úÖ –ß–∏—Ç–∞—î `VITE_API_URL` –∑ env |
| `frontend/src/api/auth.js` | ‚úÖ –ß–∏—Ç–∞—î `VITE_API_URL`, –Ω–µ–º–∞—î —Ö–∞—Ä–¥–∫–æ–¥ |
| `backend/requirements.txt` | ‚úÖ `psycopg2-binary` —î, –≤–µ—Ä—Å—ñ—ó —Ñ—ñ–∫—Å–æ–≤–∞–Ω—ñ |
| `backend/app/database.py` | ‚úÖ –ê–≤—Ç–æ-switch SQLite‚ÜîPostgreSQL, `pool_pre_ping` –¥–ª—è Neon |
| CORS | ‚úÖ `ALLOWED_ORIGINS` —á–∏—Ç–∞—î—Ç—å—Å—è –∑ env |
| `DEBUG` | ‚úÖ –í `render.yaml` –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ `False` |
| JWT | ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π, bcrypt |
| Keep-alive | ‚úÖ Frontend –ø—ñ–Ω–≥—É—î `/health` |

#### ‚õî –ö—Ä–∏—Ç–∏—á–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ—î–º

**1. render.yaml ‚Äî startCommand –∑–∞–ø—É—Å–∫–∞—î seed_data.py –ø—Ä–∏ –ö–û–ñ–ù–û–ú–£ —Ä–µ—Å—Ç–∞—Ä—Ç—ñ**

```yaml
startCommand: python scripts/seed_data.py && uvicorn app.main:app ...
```

`seed_data.py` —î **—ñ–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∏–º** (–ø–µ—Ä–µ–≤—ñ—Ä—è—î –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –ø–µ—Ä–µ–¥ –≤—Å—Ç–∞–≤–∫–æ—é), —Ç–æ–º—É –¥–∞–Ω—ñ –Ω–µ –ø—Ä–æ–¥—É–±–ª—é—é—Ç—å—Å—è. –ê–ª–µ:
- –°–ø–æ–≤—ñ–ª—å–Ω—é—î —Ö–æ–ª–æ–¥–Ω–∏–π —Å—Ç–∞—Ä—Ç –Ω–∞ ~5-10 —Å–µ–∫
- –ó–∞–ø–∏—Ç –¥–æ –ë–î –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É —Ä–µ—Å—Ç–∞—Ä—Ç—ñ
- –ù–µ clean –ø—ñ–¥—Ö—ñ–¥

**–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è**: –ó–∞–ª–∏—à–∏—Ç–∏ —è–∫ —î –¥–ª—è –ø–µ—Ä—à–æ–≥–æ –¥–µ–ø–ª–æ—é, –ø–æ—Ç—ñ–º –ø—Ä–∏–±—Ä–∞—Ç–∏:
```yaml
# –ü—ñ—Å–ª—è –ø–µ—Ä—à–æ–≥–æ –¥–µ–ø–ª–æ—é:
startCommand: uvicorn app.main:app --host 0.0.0.0 --port $PORT
```

**2. SECRET_KEY –¥–µ—Ñ–æ–ª—Ç–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –≤ `config.py`**

```python
SECRET_KEY: str = "your-secret-key-change-in-production"
```

–Ø–∫—â–æ –Ω–∞ Render –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ SECRET_KEY ‚Äî –±—É–¥–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏–π –¥–µ—Ñ–æ–ª—Ç, —â–æ —î –¥—ñ—Ä–æ—é –≤ –±–µ–∑–ø–µ—Ü—ñ. `render.yaml` –≤–∏–º–∞–≥–∞—î –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –≤—Ä—É—á–Ω—É (`sync: false`), –∞–ª–µ —è–∫—â–æ –∑–∞–±—É—Ç–∏ ‚Äî –ø—ñ–¥–ø–∏—Å JWT –∑–ª–∞–º–∞–Ω–∏–π.

**–†—ñ—à–µ–Ω–Ω—è**: –û–±–æ–≤'—è–∑–∫–æ–≤–æ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –≤ Render dashboard –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ—î–º:
```bash
openssl rand -hex 32   # –≥–µ–Ω–µ—Ä—É—î –±–µ–∑–ø–µ—á–Ω–∏–π –∫–ª—é—á
```

**3. Telegram credentials —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–æ–≤–∞–Ω—ñ**

–Ø–∫—â–æ `.env` —Ñ–∞–π–ª —Ö–æ—á —Ä–∞–∑ –ø–æ—Ç—Ä–∞–ø–∏–≤ –±–∏ –¥–æ git history ‚Äî credentials –≤—ñ–¥–∫—Ä–∏—Ç—ñ. –ù–∞–≤—ñ—Ç—å —è–∫—â–æ –¥–æ–¥–∞—Ç–∏ –≤ `.gitignore` ‚Äî –≤–∂–µ –≤—ñ–¥–æ–º–∏–π token —Ç—Ä–µ–±–∞ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç–∏.

**–†—ñ—à–µ–Ω–Ω—è**:
- –ó–∞–π—Ç–∏ –≤ Telegram ‚Üí @BotFather ‚Üí `/revoke` ‚Üí –æ—Ç—Ä–∏–º–∞—Ç–∏ –Ω–æ–≤–∏–π —Ç–æ–∫–µ–Ω
- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –Ω–æ–≤–∏–π —Ç–æ–∫–µ–Ω –Ω–∞ Render dashboard, –ù–ï –≤ `.env` —Ñ–∞–π–ª—ñ

**4. PostgreSQL ‚Äî —â–µ –Ω–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∞**

–ü–æ—Ç–æ—á–Ω–∏–π `DATABASE_URL` –≤ `.env` –≤–∫–∞–∑—É—î –Ω–∞ SQLite. –î–ª—è production –ø–æ—Ç—Ä—ñ–±–Ω–∞ PostgreSQL.

#### ‚ö†Ô∏è –í–∞–∂–ª–∏–≤—ñ —Ä–µ—á—ñ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ—î–º

**render.yaml ‚Äî –∑–º—ñ–Ω–Ω—ñ —â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–ø–æ–≤–Ω–∏—Ç–∏ –≤—Ä—É—á–Ω—É:**

| –ó–º—ñ–Ω–Ω–∞ | –î–µ –≤–∑—è—Ç–∏ | –ü—Ä–∏–∫–ª–∞–¥ |
|---|---|---|
| `DATABASE_URL` | neon.tech | `postgresql://user:pass@ep-xxx.neon.tech/db?sslmode=require` |
| `SECRET_KEY` | `openssl rand -hex 32` | `a3f9b2c1d4e5f6a7...` |
| `TELEGRAM_BOT_TOKEN` | @BotFather ‚Üí `/revoke` | `1234567890:AAH...` |
| `TELEGRAM_CHAT_ID` | –ó–∞–ª–∏—à–∞—î—Ç—å—Å—è —Ç–æ–π —Å–∞–º–∏–π | `927014914` |
| `ALLOWED_ORIGINS` | URL Vercel (–ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é frontend) | `https://agro-erp.vercel.app` |

**–ü–æ—Ä—è–¥–æ–∫ –¥—ñ–π –ø—Ä–∏ –¥–µ–ø–ª–æ—ó:**

```
1. GitHub (–ø—Ä–∏–≤–∞—Ç–Ω–∏–π —Ä–µ–ø–æ) ‚Üí push –∫–æ–¥
2. Neon.tech ‚Üí —Å—Ç–≤–æ—Ä–∏—Ç–∏ PostgreSQL ‚Üí —Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏ connection string
3. Render ‚Üí New Web Service ‚Üí –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏ GitHub repo
4. Render ‚Üí Environment Variables ‚Üí –∑–∞–ø–æ–≤–Ω–∏—Ç–∏ –≤—Å—ñ 5 –∑–º—ñ–Ω–Ω–∏—Ö
5. Render ‚Üí Deploy ‚Üí —á–µ–∫–∞—Ç–∏ (~3 —Ö–≤)
6. –í—ñ–¥–∫—Ä–∏—Ç–∏ https://your-backend.onrender.com/docs ‚Üí –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ API
7. Vercel ‚Üí New Project ‚Üí –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏ GitHub repo (–ø–∞–ø–∫–∞ frontend)
8. Vercel ‚Üí Environment Variables ‚Üí VITE_API_URL = https://your-backend.onrender.com/api/v1
9. Vercel ‚Üí Deploy
10. Render ‚Üí –æ–Ω–æ–≤–∏—Ç–∏ ALLOWED_ORIGINS = https://your-frontend.vercel.app
11. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ seed_data —á–µ—Ä–µ–∑ Render Shell (–∞–±–æ /docs)
12. –ó–∞–π—Ç–∏ –Ω–∞ Vercel URL ‚Üí –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥—ñ–Ω admin/admin
13. –ó–ú–Ü–ù–ò–¢–ò –ü–ê–†–û–õ–¨ –ê–î–ú–Ü–ù–ê!
```

#### –ó–≤–µ–¥–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ

| –ê—Å–ø–µ–∫—Ç | –û—Ü—ñ–Ω–∫–∞ | –°—Ç–∞—Ç—É—Å |
|---|---|---|
| –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π –∫–æ–¥ | 88% | –ú–∞–π–∂–µ –≥–æ—Ç–æ–≤–æ |
| Security (–±–µ–∑ –¥–µ–ø–ª–æ—é) | 75% | –ü—Ä–∏–π–Ω—è—Ç–Ω–æ |
| GitHub-–≥–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å | 65% | –ü–æ—Ç—Ä—ñ–±–µ–Ω `.gitignore` –∞—É–¥–∏—Ç |
| –î–µ–ø–ª–æ–π-–≥–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å | 60% | –ü–æ—Ç—Ä—ñ–±–Ω–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ env vars + PostgreSQL |
| Production security | 40% | –ü–æ—Ç—Ä–µ–±—É—î: –Ω–æ–≤–∏–π Telegram token, SECRET_KEY, DEBUG=False |

---

## –î–µ—Ç–∞–ª—ñ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏

### –ö–ª—é—á–æ–≤—ñ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è

1. **–ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –∫–æ–¥—ñ–≤**: SUP-XXXX, PROD-XXXX ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ, read-only
2. **–û—Å–Ω–æ–≤–Ω–∏–π —Å–∫–ª–∞–¥**: –≤—Å—ñ –∑–∞–∫—É–ø—ñ–≤–ª—ñ ‚Üí –û—Å–Ω–æ–≤–Ω–∏–π —Å–∫–ª–∞–¥ ‚Üí –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è –ø–æ –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª–∞—Ö
3. **–í–∞—Ä—Ç—ñ—Å—Ç—å**: —Å–µ—Ä–µ–¥–Ω—è —Å–æ–±—ñ–≤–∞—Ä—Ç—ñ—Å—Ç—å –ø—Ä–∏ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—ñ —ñ —Å–ø–∏—Å–∞–Ω–Ω—ñ
4. **Lazy loading –æ–±—Ö—ñ–¥**: `_get_role_name()` –≤ `deps.py` ‚Äî –ø—Ä—è–º–µ SQL –∑–∞–º—ñ—Å—Ç—å ORM relationship
5. **PostgreSQL switching**: `is_sqlite` flag –≤ `database.py`, `pool_pre_ping=not is_sqlite`
6. **CORS**: `ALLOWED_ORIGINS` —Ä–æ–∑–±–∏–≤–∞—î—Ç—å—Å—è –ø–æ –∫–æ–º—ñ ‚Üí –ø—ñ–¥—Ç—Ä–∏–º—É—î –∫—ñ–ª—å–∫–∞ –¥–æ–º–µ–Ω—ñ–≤

### –ë–î (SQLite)

**–†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è**: `C:\elev\data\agro_erp.db`

**–¢–∞–±–ª–∏—Ü—ñ**: users, roles, departments, suppliers, products, product_categories, units, purchases, purchase_items, inventory, inventory_transactions, transfers, transfer_items, writeoffs, writeoff_items, inventory_counts, inventory_count_items, audit_log, **transport_units**

### –¢–∏–ø–æ–≤—ñ –ø–æ–º–∏–ª–∫–∏ —Ç–∞ —Ä—ñ—à–µ–Ω–Ω—è

1. **"Write-off not found"** ‚Üí –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ ID, –º–æ–∂–ª–∏–≤–æ –≤–∂–µ –≤–∏–¥–∞–ª–µ–Ω–æ
2. **"Insufficient stock"** ‚Üí —Ç–æ–≤–∞—Ä —î –Ω–∞ —ñ–Ω—à–æ–º—É –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª—ñ, –Ω–µ –Ω–∞ —Ü—å–æ–º—É
3. **"Category already exists"** ‚Üí –≤–∏–±—Ä–∞—Ç–∏ —ñ—Å–Ω—É—é—á—É –∫–∞—Ç–µ–≥–æ—Ä—ñ—é
4. **–ü–æ–≤—ñ–ª—å–Ω—ñ –∑–≤—ñ—Ç–∏** ‚Üí –ø—Ä–∏ –≤–µ–ª–∏–∫–∏—Ö –¥–∞–Ω–∏—Ö –¥–æ–¥–∞—Ç–∏ —ñ–Ω–¥–µ–∫—Å–∏ –∞–±–æ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—é
5. **–°—Ç–∞—Ä–∏–π uvicorn –ø—Ä–æ—Ü–µ—Å** ‚Üí –∑–∞–ø—É—Å—Ç–∏—Ç–∏ `kill_backend.ps1` –ø–µ—Ä–µ–¥ —Ä–µ—Å—Ç–∞—Ä—Ç–æ–º

---

## –ü–ª–∞–Ω–∏ —Ä–æ–∑–≤–∏—Ç–∫—É

### –ù–∞–π–±–ª–∏–∂—á—ñ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∏ (–ø–µ—Ä–µ–¥ –∞–±–æ –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é)

1. **–ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ GitHub/–¥–µ–ø–ª–æ—é** ‚Äî `.gitignore`, –Ω–æ–≤–∏–π Telegram token, PostgreSQL
2. **Telegram –±–æ—Ç –∑ –∫–Ω–æ–ø–∫–∞–º–∏** ‚Äî FSM –¥—ñ–∞–ª–æ–≥–∏ –¥–ª—è –ø–µ—Ä–µ–º—ñ—â–µ–Ω—å —Ç–∞ —Å–ø–∏—Å–∞–Ω—å (–ø–ª–∞–Ω –¥–µ—Ç–∞–ª—å–Ω–æ –Ω–∏–∂—á–µ)
3. **CI/CD** ‚Äî GitHub Actions ‚Üí Render deploy hook + Vercel CLI

### Telegram –±–æ—Ç –∑ –∫–Ω–æ–ø–∫–∞–º–∏ ‚Äî –ø–ª–∞–Ω

**–°—Ç–µ–∫**: `python-telegram-bot>=20` (async) + polling

**–§–∞–π–ª–∏ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è:**
```
backend/app/telegram_bot/
‚îú‚îÄ‚îÄ bot.py       ‚Äî Application + handlers registration
‚îú‚îÄ‚îÄ handlers.py  ‚Äî ConversationHandler (Transfer, WriteOff)
‚îú‚îÄ‚îÄ api_client.py ‚Äî httpx –¥–æ FastAPI –∑ JWT
‚îî‚îÄ‚îÄ states.py    ‚Äî FSM constants
backend/run_bot.py
```

**–ú–µ–Ω—é:**
```
üì¶ –ü–µ—Ä–µ–º—ñ—Å—Ç–∏—Ç–∏    üìã –°–ø–∏—Å–∞—Ç–∏
üìä –ó–∞–ª–∏—à–∫–∏        ‚ùå –°–∫–∞—Å—É–≤–∞—Ç–∏
```

**–ù–æ–≤—ñ .env –∑–º—ñ–Ω–Ω—ñ:**
```
TELEGRAM_WM_USERNAME=warehouse_manager
TELEGRAM_WM_PASSWORD=your_password
```

### –°–µ—Ä–µ–¥–Ω—å–æ—Å—Ç—Ä–æ–∫–æ–≤—ñ (–ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é)

1. **–Ü–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü—ñ—è** ‚Äî UI –¥–ª—è –∞–∫—Ç—ñ–≤, –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Ñ–∞–∫—Ç/—Å–∏—Å—Ç–µ–º–∞, –∫–æ—Ä–∏–≥—É–≤–∞–Ω–Ω—è
2. **–ü–∞–≥—ñ–Ω–∞—Ü—ñ—è** ‚Äî –¥–ª—è —Ç–∞–±–ª–∏—Ü—å –ø—Ä–∏ >200 –∑–∞–ø–∏—Å—ñ–≤
3. **–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è** ‚Äî –ø–æ –∫–æ–ª–æ–Ω–∫–∞—Ö —É —Ç–∞–±–ª–∏—Ü—è—Ö
4. **Audit Trail UI** ‚Äî –ø–µ—Ä–µ–≥–ª—è–¥ —Ö—Ç–æ —â–æ –∑–º—ñ–Ω–∏–≤

### –î–æ–≤–≥–æ—Å—Ç—Ä–æ–∫–æ–≤—ñ

1. **–ë—é–¥–∂–µ—Ç—É–≤–∞–Ω–Ω—è** ‚Äî –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è –∑–∞–∫—É–ø—ñ–≤–µ–ª—å, –∫–æ–Ω—Ç—Ä–æ–ª—å –±—é–¥–∂–µ—Ç—É –ø–æ –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª–∞—Ö
2. **–Ü–º–ø–æ—Ä—Ç –∑ Excel** ‚Äî –º–∞—Å–æ–≤–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
3. **–ú–æ–±—ñ–ª—å–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫** ‚Äî PWA –∞–±–æ React Native, QR-—Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è

---

## –ö–æ–Ω—Ç–∞–∫—Ç–∏ —Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

- **–¶–µ–π —Ñ–∞–π–ª**: `C:\elev\PROJECT_STATUS.md`
- **–õ–æ–≥–∏ —Ä–æ–∑—Ä–æ–±–∫–∏**: –î–æ—Å—Ç—É–ø–Ω—ñ –≤ —ñ—Å—Ç–æ—Ä—ñ—ó —á–∞—Ç—É Claude

**–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è**: 2026-02-24 (—Å–µ—Å—ñ—è 8 ‚Äî –∑–≤—ñ—Ç –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª—ñ–≤, 13 –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª—ñ–≤, –º–æ–¥—É–ª—å –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç, –∞–Ω–∞–ª—ñ–∑ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ)
**–í–µ—Ä—Å—ñ—è**: 0.7.0 (Beta)
**–°—Ç–∞—Ç—É—Å**: –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –≥–æ—Ç–æ–≤–∏–π, –ø–æ—Ç—Ä—ñ–±–Ω–∞ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ GitHub/–¥–µ–ø–ª–æ—é
